@using smab.PlexInfo.Models

<h2>Seasons</h2>
<div class="card-group">
    @foreach (var item in Seasons)
    {
        <div class="card tvseason-card m-2 h-100">
            <a class="card-link" href="/Plex/Details/@item.RatingKey" title="@item.Title">
                @if (String.IsNullOrEmpty(item.Thumb)) {
                    <img src="/images/tv.png" class="card-img-top" alt="..." />
                } else {
                    <img src="/PlexInfo/Photo?url=@(item.Thumb)&width=@(THUMB_WIDTH)&height=@(THUMB_HEIGHT)" class="card-img-top" loading="lazy" alt="..." />
                }
            </a>
            <div class="card-body p-1">
                <a class="card-link" href="/Plex/Details/@item.RatingKey" title="@item.Title"><h6 class="card-title text-truncate">@item.Title</h6></a>
                <h6 class="card-subtitle text-muted">@item.LeafCount @((item.LeafCount == 1) ? "episode" : "episodes")</h6>
            </div>
        </div>
    }
</div>
<br />

@code {
    private const int THUMB_WIDTH = 200;
    private const int THUMB_HEIGHT = 300;

    [Parameter]
    public List<Metadata> Seasons { get; set; } = new();
}
